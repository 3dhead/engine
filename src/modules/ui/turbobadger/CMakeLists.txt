set(LIB turbobadger)
set(SRCS
	tb/animation/tb_animation_utils.h
	tb/animation/tb_animation.cpp
	tb/animation/tb_widget_animation.h
	tb/animation/tb_animation.h
	tb/animation/tb_widget_animation.cpp
	tb/utf8/utf8.cpp
	tb/utf8/utf8.h
	tb/renderers/tb_renderer_batcher.cpp
	tb/renderers/tb_renderer_batcher.h
	tb/thirdparty/stb_truetype.h
	tb/parser/tb_parser.h
	tb/parser/tb_parser.cpp
	tb/image/tb_image_manager.cpp
	tb/image/tb_image_widget.cpp
	tb/image/tb_image_widget.h
	tb/image/tb_image_manager.h
	tb/tb_bitmap_fragment.cpp
	tb/tb_color.cpp
	tb/tb_core.cpp
	tb/tb_debug.cpp
	tb/tb_dimension.cpp
	tb/tb_editfield.cpp
	tb/tb_font_renderer.cpp
	tb/tb_font_renderer_stb.cpp
	tb/tb_font_renderer_tbbf.cpp
	tb/tb_geometry.cpp
	tb/tb_hashtable.cpp
	tb/tb_inline_select.cpp
	tb/tb_language.cpp
	tb/tb_layout.cpp
	tb/tb_linklist.cpp
	tb/tb_list.cpp
	tb/tb_menu_window.cpp
	tb/tb_message_window.cpp
	tb/tb_msg.cpp
	tb/tb_node_ref_tree.cpp
	tb/tb_node_tree.cpp
	tb/tb_popup_window.cpp
	tb/tb_renderer.cpp
	tb/tb_scroll_container.cpp
	tb/tb_scroller.cpp
	tb/tb_select.cpp
	tb/tb_select_item.cpp
	tb/tb_skin.cpp
	tb/tb_skin_util.cpp
	tb/tb_str.cpp
	tb/tb_style_edit.cpp
	tb/tb_style_edit_content.cpp
	tb/tb_system.cpp
	tb/tb_tab_container.cpp
	tb/tb_tempbuffer.cpp
	tb/tb_toggle_container.cpp
	tb/tb_value.cpp
	tb/tb_widget_skin_condition_context.cpp
	tb/tb_widget_value.cpp
	tb/tb_widgets.cpp
	tb/tb_widgets_common.cpp
	tb/tb_widgets_listener.cpp
	tb/tb_widgets_reader.cpp
	tb/tb_window.cpp
	tb/tb_bitmap_fragment.h
	tb/tb_color.h
	tb/tb_config.h
	tb/tb_core.h
	tb/tb_debug.h
	tb/tb_dimension.h
	tb/tb_editfield.h
	tb/tb_font_desc.h
	tb/tb_font_renderer.h
	tb/tb_geometry.h
	tb/tb_hash.h
	tb/tb_hashtable.h
	tb/tb_id.h
	tb/tb_inline_select.h
	tb/tb_language.h
	tb/tb_layout.h
	tb/tb_linklist.h
	tb/tb_list.h
	tb/tb_menu_window.h
	tb/tb_message_window.h
	tb/tb_msg.h
	tb/tb_node_ref_tree.h
	tb/tb_node_tree.h
	tb/tb_object.h
	tb/tb_popup_window.h
	tb/tb_renderer.h
	tb/tb_scroll_container.h
	tb/tb_scroller.h
	tb/tb_select.h
	tb/tb_select_item.h
	tb/tb_skin.h
	tb/tb_skin_util.h
	tb/tb_sort.h
	tb/tb_str.h
	tb/tb_style_edit.h
	tb/tb_style_edit_content.h
	tb/tb_system.h
	tb/tb_tab_container.h
	tb/tb_tempbuffer.h
	tb/tb_toggle_container.h
	tb/tb_types.h
	tb/tb_value.h
	tb/tb_widget_skin_condition_context.h
	tb/tb_widget_value.h
	tb/tb_widgets.h
	tb/tb_widgets_common.h
	tb/tb_widgets_listener.h
	tb/tb_widgets_reader.h
	tb/tb_window.h

	UIApp.cpp UIApp.h
	TurboBadger.h
	Window.cpp Window.h
	Widget.h
	FontUtil.h
	FileDialogWindow.h FileDialogWindow.cpp
	WaitingMessage.h WaitingMessage.cpp
	Console.cpp Console.h
	ui_renderer_gl.cpp ui_renderer_gl.h
	ui_widgets.cpp ui_widgets.h
)
set(FILES
	shared/ui/font/font_14.png
	shared/ui/font/font_28.png
	shared/ui/font/font.tb.txt
	shared/ui/font/DejaVuSansMono.ttf
	shared/ui/skin/arrow_down.png
	shared/ui/skin/arrow_left.png
	shared/ui/skin/arrow_right.png
	shared/ui/skin/arrow_up.png
	shared/ui/skin/button_flat_outline.png
	shared/ui/skin/button_flat_pressed.png
	shared/ui/skin/button_grouped_x_first_down.png
	shared/ui/skin/button_grouped_x_first_up.png
	shared/ui/skin/button_grouped_x_last_down.png
	shared/ui/skin/button_grouped_x_last_up.png
	shared/ui/skin/button_grouped_x_middle_down.png
	shared/ui/skin/button_grouped_x_middle_up.png
	shared/ui/skin/button.png
	shared/ui/skin/button_pressed.png
	shared/ui/skin/checkbox_mark.png
	shared/ui/skin/checkbox.png
	shared/ui/skin/checkbox_pressed.png
	shared/ui/skin/container.png
	shared/ui/skin/editfield.png
	shared/ui/skin/fadeout_x.png
	shared/ui/skin/fadeout_y.png
	shared/ui/skin/filedialog-dir.png
	shared/ui/skin/filedialog-file.png
	shared/ui/skin/focus_r4.png
	shared/ui/skin/focus_tabbutton_left.png
	shared/ui/skin/focus_tabbutton_top.png
	shared/ui/skin/item_hover.png
	shared/ui/skin/item_selected.png
	shared/ui/skin/item_separator_x.png
	shared/ui/skin/item_separator_y.png
	shared/ui/skin/progress_spinner_strip.png
	shared/ui/skin/radio_mark.png
	shared/ui/skin/radio.png
	shared/ui/skin/radio_pressed.png
	shared/ui/skin/remove.png
	shared/ui/skin/resizer.png
	shared/ui/skin/scroll_bg_x.png
	shared/ui/skin/scroll_bg_y.png
	shared/ui/skin/scroll_fg_x.png
	shared/ui/skin/scroll_fg_y.png
	shared/ui/skin/search.png
	shared/ui/skin/section_container.png
	shared/ui/skin/selection.png
	shared/ui/skin/skin.tb.txt
	shared/ui/skin/slider_bg_x.png
	shared/ui/skin/slider_bg_y.png
	shared/ui/skin/slider_handle.png
	shared/ui/skin/tab_button_bottom_active.png
	shared/ui/skin/tab_button_bottom_inactive.png
	shared/ui/skin/tab_button_left_active.png
	shared/ui/skin/tab_button_left_inactive.png
	shared/ui/skin/tab_button_right_active.png
	shared/ui/skin/tab_button_right_inactive.png
	shared/ui/skin/tab_button_top_active.png
	shared/ui/skin/tab_button_top_inactive.png
	shared/ui/skin/toggle_section_icon_down.png
	shared/ui/skin/toggle_section_icon_middle.png
	shared/ui/skin/toggle_section_icon_up.png
	shared/ui/skin/window_active.png
	shared/ui/skin/window_close.png
	shared/ui/skin/window_close_pressed.png
	shared/ui/skin/window_mover_bg_tile.png
	shared/ui/skin/window_mover_overlay.png
	shared/ui/skin/window.png
	shared/ui/window/filedialog_dir.tb.txt
	shared/ui/window/filedialog_file.tb.txt
	shared/ui/window/filedialog.tb.txt
)

if (WINDOWS)
	add_definitions(-D_CRT_SECURE_NO_WARNINGS)
	add_definitions(-D_CRT_NONSTDC_NO_DEPRECATE)
	add_definitions(-DTB_USE_CURRENT_DIRECTORY)
elseif (LINUX)
elseif (DARWIN)
	add_definitions(-DMACOSX)
	add_definitions(-DTB_USE_CURRENT_DIRECTORY)
endif()

engine_add_module(TARGET ${LIB} SRCS ${SRCS} FILES ${FILES} DEPENDENCIES render)
target_include_directories(${LIB} PUBLIC tb)

gtest_suite_sources(tests
	tests/ConsoleTest.cpp
	tests/UITest.h
)
gtest_suite_deps(tests ${LIB})
